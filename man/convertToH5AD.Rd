% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/convertToH5AD.R
\name{convertToH5AD}
\alias{convertToH5AD}
\title{Convert Seurat Object to H5AD Format}
\usage{
convertToH5AD(
  obj,
  h5ad.path,
  compress.gzip = TRUE,
  remove_assays = NULL,
  convert_factors = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{obj}{A Seurat (v3+) object to convert}

\item{h5ad.path}{Character. Path where the h5ad file should be saved.
Must end with ".h5ad"}

\item{compress.gzip}{Logical. If TRUE (default), compresses the output
using gzip compression level 9 for optimized file size. This requires
Python environment with scanpy.}

\item{remove_assays}{Character vector. Names of assays to remove before
conversion to reduce file size. For example, c("integrated", "SCT")}

\item{convert_factors}{Logical. If TRUE (default), converts all factor
columns in metadata to character to ensure compatibility with H5AD format.}

\item{verbose}{Logical. If TRUE (default), prints status messages.}
}
\value{
Invisibly returns the path to the created h5ad file.
}
\description{
Converts a Seurat object to AnnData (h5ad) format compatible with Python
tools like scanpy and gseapy. This function handles the intermediate
H5Seurat conversion and compression optimization for efficient storage.
}
\details{
The conversion process:
1. Cleans metadata by converting factors to characters
2. Removes specified assays to reduce file size
3. Converts to H5Seurat intermediate format
4. Converts H5Seurat to H5AD
5. Optionally re-compresses with gzip (recommended for large files)

The resulting h5ad file can be read by Python tools:
\code{
  import scanpy as sc
  adata = sc.read_h5ad("path/to/file.h5ad")
}
}
\section{Dependencies}{

Requires Seurat (v3+), SeuratDisk, and reticulate packages.
For gzip compression, requires Python with scanpy.
}

\examples{
# This is typically called internally or requires setup.

}
